document.addEventListener("DOMContentLoaded",(function(){Array.from(document.querySelectorAll("span.trap-hotswap")).forEach(((t,e)=>{const n=t.dataset.replacement??"",a=t.innerHTML??"",o=document.createElement("span");o.className="trap-hotswap",o.textContent=a,o.dataset.replacement=n;const r=document.createElement("span");r.className="trap-hotswap_printonly",r.dataset.replacement=n,t.id&&(o.id=t.id);const c=document.createDocumentFragment();c.appendChild(o),c.appendChild(r),t.replaceWith(c)}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".trap-invis").forEach((t=>{t.setAttribute("aria-hidden","true")}))})),document.addEventListener("copy",(function(t){const e=window.getSelection?.();if(!e||e.isCollapsed)return;const n=e.getRangeAt(0).cloneContents(),a=n.querySelectorAll?.(".trap-hotswap")||[];if(0===a.length)return;a.forEach((t=>{t.textContent=t.dataset.replacement}));const o=document.createElement("div");o.appendChild(n);const r=o.innerHTML,c=o.textContent;t.clipboardData&&(t.preventDefault(),t.clipboardData.setData("text/html",r),t.clipboardData.setData("text/plain",c))}));