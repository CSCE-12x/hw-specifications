document.addEventListener("DOMContentLoaded",function(){let e=Array.from(document.querySelectorAll("span.trap-hotswap"));e.forEach((e,t)=>{let a=e.dataset.replacement??"",n=e.innerHTML??"",l=document.createElement("span");l.className="trap-hotswap",l.innerHTML=n,l.dataset.replacement=a;let r=document.createElement("span");r.className="trap-hotswap_printonly",r.dataset.replacement=a,e.id&&(l.id=e.id);let i=document.createDocumentFragment();i.appendChild(l),i.appendChild(r),e.replaceWith(i)})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".trap-invis");e.forEach(e=>{e.setAttribute("aria-hidden","true")})}),document.addEventListener("copy",function(e){let t=window.getSelection?.();if(!t||t.isCollapsed)return;let a=t.getRangeAt(0),n=a.cloneContents(),l=n.querySelectorAll?.(".trap-hotswap")||[];if(0===l.length)return;l.forEach(e=>{e.textContent=e.dataset.replacement});let r=document.createElement("div");r.appendChild(n);let i=r.innerHTML,p=r.textContent;e.clipboardData&&(e.preventDefault(),e.clipboardData.setData("text/html",i),e.clipboardData.setData("text/plain",p))});